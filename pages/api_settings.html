<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª API - Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¥Ø³ÙƒØ§Ù†</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../css/unified-color-scheme.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .header {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
            text-align: center;
        }

        .header h1 {
            color: #2c3e50;
            font-size: 2em;
            margin-bottom: 10px;
        }

        .header p {
            color: #7f8c8d;
            font-size: 1.1em;
        }

        .back-btn {
            display: inline-block;
            padding: 10px 20px;
            background: #3498db;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            margin-bottom: 20px;
            transition: all 0.3s;
        }

        .back-btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }

        .card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 20px;
        }

        .card h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.5em;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            color: #2c3e50;
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 1.1em;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s;
        }

        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 10px rgba(52, 152, 219, 0.3);
        }

        .form-group small {
            display: block;
            color: #7f8c8d;
            margin-top: 5px;
            font-size: 0.9em;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s;
            margin-right: 10px;
            font-weight: bold;
        }

        .btn-primary {
            background: #3498db;
            color: white;
        }

        .btn-primary:hover {
            background: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
        }

        .btn-success {
            background: #27ae60;
            color: white;
        }

        .btn-success:hover {
            background: #229954;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(39, 174, 96, 0.4);
        }

        .btn-danger {
            background: #e74c3c;
            color: white;
        }

        .btn-danger:hover {
            background: #c0392b;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.4);
        }

        .alert {
            padding: 15px 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
        }

        .alert-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .alert-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .alert-info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }

        .status-badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
        }

        .status-connected {
            background: #d4edda;
            color: #155724;
        }

        .status-disconnected {
            background: #f8d7da;
            color: #721c24;
        }

        .info-box {
            background: #e8f4f8;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #3498db;
            margin-bottom: 20px;
        }

        .info-box h3 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .info-box p {
            color: #555;
            line-height: 1.6;
        }

        .info-box ul {
            margin-top: 10px;
            padding-right: 20px;
        }

        .info-box li {
            color: #555;
            margin-bottom: 5px;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.5em;
            }

            .card {
                padding: 20px;
            }

            .btn {
                width: 100%;
                margin-bottom: 10px;
            }
        }
    </style>
    <link rel="stylesheet" href="../css/responsive-style.css">
</head>
<body>
    <div class="container">
        <a href="home.html" class="back-btn">
            <i class="fas fa-arrow-right"></i> Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        </a>

        <div class="header">
            <h1><i class="fas fa-cog"></i> Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª API Ù„Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ù„ÙˆØ­Ø§Øª</h1>
            <p>Ù‚Ù… Ø¨ØªÙƒÙˆÙŠÙ† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª API Ù„Ù„ØªØ¹Ø±Ù Ø§Ù„Ø¢Ù„ÙŠ Ø¹Ù„Ù‰ Ù„ÙˆØ­Ø§Øª Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª</p>
        </div>

        <div id="alertBox" class="alert"></div>

        <div class="card">
            <h2><i class="fas fa-info-circle"></i> Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ù‡Ù…Ø©</h2>
            <div class="info-box">
                <h3>Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ù„ÙˆØ­Ø§Øª:</h3>
                <p><strong>1. Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø© (Mock System):</strong></p>
                <ul>
                    <li>âœ… ÙŠØ¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø§Ù„Ø­Ø§Ø¬Ø© Ø¥Ù„Ù‰ API Ø®Ø§Ø±Ø¬ÙŠ</li>
                    <li>âœ… Ù…Ø¬Ø§Ù†ÙŠ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„</li>
                    <li>âœ… ÙŠÙ†Ø´Ø¦ Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù‚Ø¹ÙŠØ© Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±</li>
                    <li>âš ï¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© (Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙÙ‚Ø·)</li>
                </ul>
                <p style="margin-top: 10px;"><strong>2. Plate Recognizer API:</strong></p>
                <ul>
                    <li>âœ… ØªØ¹Ø±Ù Ø­Ù‚ÙŠÙ‚ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ù„ÙˆØ­Ø§Øª</li>
                    <li>âœ… Ø¯Ù‚Ø© Ø¹Ø§Ù„ÙŠØ© Ø¬Ø¯Ø§Ù‹</li>
                    <li>âœ… ÙŠØ¯Ø¹Ù… Ø§Ù„Ù„ÙˆØ­Ø§Øª Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</li>
                    <li>âš ï¸ ÙŠØ­ØªØ§Ø¬ Ø±Ù…Ø² API (Ù…Ø¯ÙÙˆØ¹)</li>
                    <li>ğŸ”— Ø§Ù„Ù…ÙˆÙ‚Ø¹: <a href="https://app.platerecognizer.com/start/" target="_blank">app.platerecognizer.com</a></li>
                </ul>
                <p style="margin-top: 10px;"><strong>3. Snapshot Cloud API:</strong></p>
                <ul>
                    <li>âœ… Ø®Ø¯Ù…Ø© Ø³Ø­Ø§Ø¨ÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø© Ù„Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ù„ÙˆØ­Ø§Øª</li>
                    <li>âœ… Ù…Ø¹Ø§Ù„Ø¬Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ù„Ù„ØµÙˆØ± Ù…Ù† Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§Øª</li>
                    <li>âœ… Ø¯Ø¹Ù… Webhooks Ù„Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„ÙÙˆØ±ÙŠØ©</li>
                    <li>âœ… ØªØ®Ø²ÙŠÙ† Ø³Ø­Ø§Ø¨ÙŠ Ù„Ù„ØµÙˆØ± ÙˆØ§Ù„Ù†ØªØ§Ø¦Ø¬</li>
                    <li>âœ… Ø¯Ù‚Ø© Ø¹Ø§Ù„ÙŠØ© Ø¬Ø¯Ø§Ù‹ ÙˆØ³Ø±Ø¹Ø© Ù…Ø¹Ø§Ù„Ø¬Ø© ÙØ§Ø¦Ù‚Ø©</li>
                    <li>âš ï¸ ÙŠØ­ØªØ§Ø¬ Ø±Ù…Ø² API ÙˆØ§Ø´ØªØ±Ø§Ùƒ (Ù…Ø¯ÙÙˆØ¹)</li>
                    <li>ğŸ”— Ø§Ù„Ù…ÙˆÙ‚Ø¹: <a href="https://app.platerecognizer.com/service/snapshot-cloud/" target="_blank">Snapshot Cloud</a></li>
                </ul>
            </div>
        </div>

        <div class="card">
            <h2><i class="fas fa-toggle-on"></i> Ø§Ø®ØªÙŠØ§Ø± Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ¹Ø±Ù</h2>
            <div class="form-group">
                <label for="recognitionSystem">Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙØ¶Ù„:</label>
                <select id="recognitionSystem">
                    <option value="mock">Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø© (Mock System) - Ù…Ø¬Ø§Ù†ÙŠ</option>
                    <option value="platerecognizer">Plate Recognizer API - Ø§Ø­ØªØ±Ø§ÙÙŠ</option>
                    <option value="snapshot">Snapshot Cloud API - Ø³Ø­Ø§Ø¨ÙŠ Ù…ØªÙ‚Ø¯Ù…</option>
                </select>
                <small>Ø§Ø®ØªØ± Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯ Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ Ù„Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ù„ÙˆØ­Ø§Øª</small>
            </div>
        </div>

        <div class="card" id="apiCard" style="display: none;">
            <h2><i class="fas fa-key"></i> Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Plate Recognizer API</h2>
            
            <div class="form-group">
                <label for="apiToken">Ø±Ù…Ø² API Token:</label>
                <input type="text" id="apiToken" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù…Ø² API Token Ù‡Ù†Ø§">
                <small>Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø±Ù…Ø² API Ù…Ù† <a href="https://app.platerecognizer.com/start/" target="_blank">app.platerecognizer.com</a></small>
            </div>

            <div class="form-group">
                <label for="apiRegion">Ø§Ù„Ù…Ù†Ø·Ù‚Ø©:</label>
                <select id="apiRegion">
                    <option value="sa">Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© (SA)</option>
                    <option value="ae">Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª (AE)</option>
                    <option value="kw">Ø§Ù„ÙƒÙˆÙŠØª (KW)</option>
                    <option value="qa">Ù‚Ø·Ø± (QA)</option>
                    <option value="bh">Ø§Ù„Ø¨Ø­Ø±ÙŠÙ† (BH)</option>
                    <option value="om">Ø¹Ù…Ø§Ù† (OM)</option>
                </select>
                <small>Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ© Ù„Ù„ÙˆØ­Ø§Øª</small>
            </div>

            <div class="form-group">
                <label>Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„:</label>
                <span id="connectionStatus" class="status-badge status-disconnected">
                    <i class="fas fa-circle"></i> ØºÙŠØ± Ù…ØªØµÙ„
                </span>
            </div>

            <button class="btn btn-success" onclick="testConnection()">
                <i class="fas fa-plug"></i> Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„
            </button>
        </div>

        <div class="card" id="snapshotCard" style="display: none;">
            <h2><i class="fas fa-cloud"></i> Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Snapshot Cloud API</h2>
            
            <div class="form-group">
                <label for="snapshotApiToken">Ø±Ù…Ø² API Token:</label>
                <input type="text" id="snapshotApiToken" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù…Ø² API Token Ù‡Ù†Ø§">
                <small>Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø±Ù…Ø² API Ù…Ù† <a href="https://app.platerecognizer.com/service/snapshot-cloud/dashboard/" target="_blank">Snapshot Cloud Dashboard</a></small>
            </div>

            <div class="form-group">
                <label for="snapshotApiUrl">Ø±Ø§Ø¨Ø· Snapshot API:</label>
                <input type="text" id="snapshotApiUrl" placeholder="https://api.platerecognizer.com/v1/plate-reader/">
                <small>Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù„Ù„Ù€ API (ÙŠÙ…ÙƒÙ†Ùƒ ØªØ±ÙƒÙ‡ ÙƒÙ…Ø§ Ù‡Ùˆ)</small>
            </div>

            <div class="form-group">
                <label for="snapshotRegion">Ø§Ù„Ù…Ù†Ø·Ù‚Ø©:</label>
                <select id="snapshotRegion">
                    <option value="sa">Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© (SA)</option>
                    <option value="ae">Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª (AE)</option>
                    <option value="kw">Ø§Ù„ÙƒÙˆÙŠØª (KW)</option>
                    <option value="qa">Ù‚Ø·Ø± (QA)</option>
                    <option value="bh">Ø§Ù„Ø¨Ø­Ø±ÙŠÙ† (BH)</option>
                    <option value="om">Ø¹Ù…Ø§Ù† (OM)</option>
                </select>
                <small>Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ© Ù„Ù„ÙˆØ­Ø§Øª</small>
            </div>

            <h3 style="color: #2c3e50; margin-top: 30px; margin-bottom: 15px; font-size: 1.3em; border-bottom: 2px solid #3498db; padding-bottom: 10px;">
                <i class="fas fa-video"></i> Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ (Camera Settings)
            </h3>

            <div class="form-group">
                <label for="cameraId">Ù…Ø¹Ø±Ù Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ (Camera ID):</label>
                <input type="text" id="cameraId" placeholder="Ù…Ø«Ø§Ù„: camera-01">
                <small>Ù…Ø¹Ø±Ù ÙØ±ÙŠØ¯ Ù„Ù„ÙƒØ§Ù…ÙŠØ±Ø§ - ÙŠØ³ØªØ®Ø¯Ù… Ù„ØªÙ…ÙŠÙŠØ² Ù…ØµØ¯Ø± Ø§Ù„ØµÙˆØ±</small>
            </div>

            <div class="form-group">
                <label for="cameraName">Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ (Camera Name):</label>
                <input type="text" id="cameraName" placeholder="Ù…Ø«Ø§Ù„: ÙƒØ§Ù…ÙŠØ±Ø§ Ø§Ù„Ù…Ø¯Ø®Ù„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ">
                <small>Ø§Ø³Ù… ÙˆØµÙÙŠ Ù„Ù„ÙƒØ§Ù…ÙŠØ±Ø§</small>
            </div>

            <div class="form-group">
                <label for="cameraLocation">Ù…ÙˆÙ‚Ø¹ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ (Location):</label>
                <input type="text" id="cameraLocation" placeholder="Ù…Ø«Ø§Ù„: Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ - Ø§Ù„Ø¬Ù‡Ø© Ø§Ù„Ø´Ù…Ø§Ù„ÙŠØ©">
                <small>Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ Ø£Ùˆ ÙˆØµÙ Ù…ÙƒØ§Ù† ØªØ±ÙƒÙŠØ¨ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§</small>
            </div>

            <h3 style="color: #2c3e50; margin-top: 30px; margin-bottom: 15px; font-size: 1.3em; border-bottom: 2px solid #3498db; padding-bottom: 10px;">
                <i class="fas fa-cogs"></i> Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© (Processing Settings)
            </h3>

            <div class="form-group">
                <label for="confidenceThreshold">Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø«Ù‚Ø© (Confidence Threshold):</label>
                <input type="number" id="confidenceThreshold" placeholder="0.8" min="0" max="1" step="0.1" value="0.7">
                <small>Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ø¯Ø±Ø¬Ø© Ø§Ù„Ø«Ù‚Ø© Ù„Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ù†ØªÙŠØ¬Ø© (Ù…Ù† 0 Ø¥Ù„Ù‰ 1) - Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…ÙˆØµÙ‰ Ø¨Ù‡Ø§: 0.7</small>
            </div>

            <div class="form-group">
                <label for="enableMMC">
                    <input type="checkbox" id="enableMMC" style="width: auto; margin-left: 10px;">
                    ØªÙØ¹ÙŠÙ„ MMC (Make, Model, Color)
                </label>
                <small>ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ù†ÙˆØ¹ Ø§Ù„Ø³ÙŠØ§Ø±Ø© ÙˆÙ…ÙˆØ¯ÙŠÙ„Ù‡Ø§ ÙˆÙ„ÙˆÙ†Ù‡Ø§</small>
            </div>

            <div class="form-group">
                <label for="enableVehicleType">
                    <input type="checkbox" id="enableVehicleType" style="width: auto; margin-left: 10px;">
                    ØªÙØ¹ÙŠÙ„ Ø§ÙƒØªØ´Ø§Ù Ù†ÙˆØ¹ Ø§Ù„Ù…Ø±ÙƒØ¨Ø© (Vehicle Type Detection)
                </label>
                <small>Ø§ÙƒØªØ´Ø§Ù Ù†ÙˆØ¹ Ø§Ù„Ù…Ø±ÙƒØ¨Ø© (Ø³ÙŠØ§Ø±Ø©ØŒ Ø´Ø§Ø­Ù†Ø©ØŒ Ø¯Ø±Ø§Ø¬Ø© Ù†Ø§Ø±ÙŠØ©ØŒ Ø¥Ù„Ø®)</small>
            </div>

            <div class="form-group">
                <label for="enableDirection">
                    <input type="checkbox" id="enableDirection" style="width: auto; margin-left: 10px;">
                    ØªÙØ¹ÙŠÙ„ Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ø§ØªØ¬Ø§Ù‡ (Direction Detection)
                </label>
                <small>Ø§ÙƒØªØ´Ø§Ù Ø§ØªØ¬Ø§Ù‡ Ø­Ø±ÙƒØ© Ø§Ù„Ù…Ø±ÙƒØ¨Ø©</small>
            </div>

            <h3 style="color: #2c3e50; margin-top: 30px; margin-bottom: 15px; font-size: 1.3em; border-bottom: 2px solid #3498db; padding-bottom: 10px;">
                <i class="fas fa-server"></i> Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª FTP (FTP Settings)
            </h3>

            <div class="form-group">
                <label for="ftpHost">Ø¹Ù†ÙˆØ§Ù† Ø®Ø§Ø¯Ù… FTP (FTP Host):</label>
                <input type="text" id="ftpHost" placeholder="ftp.platerecognizer.com">
                <small>Ø¹Ù†ÙˆØ§Ù† Ø®Ø§Ø¯Ù… FTP Ù„Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±</small>
            </div>

            <div class="form-group">
                <label for="ftpPort">Ù…Ù†ÙØ° FTP (FTP Port):</label>
                <input type="number" id="ftpPort" placeholder="21" value="21">
                <small>Ø§Ù„Ù…Ù†ÙØ° Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ: 21 (FTP)ØŒ 2121 (FTPS)ØŒ 2022 (SFTP)</small>
            </div>

            <div class="form-group">
                <label for="ftpUsername">Ø§Ø³Ù… Ù…Ø³ØªØ®Ø¯Ù… FTP (FTP Username):</label>
                <input type="text" id="ftpUsername" placeholder="username">
                <small>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø®Ø§Ø¯Ù… FTP</small>
            </div>

            <div class="form-group">
                <label for="ftpPassword">ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± FTP (FTP Password):</label>
                <input type="password" id="ftpPassword" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
                <small>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø®Ø§Ø¯Ù… FTP</small>
            </div>

            <div class="form-group">
                <label for="ftpProtocol">Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ FTP:</label>
                <select id="ftpProtocol">
                    <option value="ftp">FTP (Port 21)</option>
                    <option value="ftps">FTPS (Port 2121)</option>
                    <option value="sftp">SFTP (Port 2022)</option>
                </select>
                <small>Ø§Ø®ØªØ± Ø§Ù„Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ø¢Ù…Ù†</small>
            </div>

            <h3 style="color: #2c3e50; margin-top: 30px; margin-bottom: 15px; font-size: 1.3em; border-bottom: 2px solid #3498db; padding-bottom: 10px;">
                <i class="fas fa-bell"></i> Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Webhook
            </h3>

            <div class="form-group">
                <label for="webhookUrl">Ø±Ø§Ø¨Ø· Webhook (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):</label>
                <input type="text" id="webhookUrl" placeholder="https://your-domain.com/webhook">
                <small>Ø±Ø§Ø¨Ø· Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ù…Ù† Snapshot Cloud</small>
            </div>

            <div class="form-group">
                <label for="parkpowWebhookUrl">Ø±Ø§Ø¨Ø· ParkPow Webhook:</label>
                <input type="text" id="parkpowWebhookUrl" placeholder="https://app.parkpow.com/api/v1/webhook-receiver/">
                <small>Ø±Ø§Ø¨Ø· webhook Ø§Ù„Ø®Ø§Øµ Ø¨Ù€ ParkPow Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</small>
            </div>

            <h3 style="color: #2c3e50; margin-top: 30px; margin-bottom: 15px; font-size: 1.3em; border-bottom: 2px solid #3498db; padding-bottom: 10px;">
                <i class="fas fa-clock"></i> Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ÙˆÙ‚Øª ÙˆØ§Ù„ØªØ§Ø±ÙŠØ® (Timezone & Timestamp)
            </h3>

            <div class="form-group">
                <label for="timezone">Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ© (Timezone):</label>
                <select id="timezone">
                    <option value="Asia/Riyadh">Ø¢Ø³ÙŠØ§/Ø§Ù„Ø±ÙŠØ§Ø¶ (Asia/Riyadh)</option>
                    <option value="Asia/Dubai">Ø¢Ø³ÙŠØ§/Ø¯Ø¨ÙŠ (Asia/Dubai)</option>
                    <option value="Asia/Kuwait">Ø¢Ø³ÙŠØ§/Ø§Ù„ÙƒÙˆÙŠØª (Asia/Kuwait)</option>
                    <option value="Asia/Qatar">Ø¢Ø³ÙŠØ§/Ù‚Ø·Ø± (Asia/Qatar)</option>
                    <option value="Asia/Bahrain">Ø¢Ø³ÙŠØ§/Ø§Ù„Ø¨Ø­Ø±ÙŠÙ† (Asia/Bahrain)</option>
                    <option value="Asia/Muscat">Ø¢Ø³ÙŠØ§/Ù…Ø³Ù‚Ø· (Asia/Muscat)</option>
                    <option value="UTC">UTC</option>
                </select>
                <small>Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ© Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø·ÙˆØ§Ø¨Ø¹ Ø§Ù„Ø²Ù…Ù†ÙŠØ©</small>
            </div>

            <div class="form-group">
                <label for="enableTimestamp">
                    <input type="checkbox" id="enableTimestamp" checked style="width: auto; margin-left: 10px;">
                    ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø·Ø§Ø¨Ø¹ Ø§Ù„Ø²Ù…Ù†ÙŠ (Enable Timestamp)
                </label>
                <small>Ø¥Ø¶Ø§ÙØ© Ø·Ø§Ø¨Ø¹ Ø²Ù…Ù†ÙŠ Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©</small>
            </div>

            <h3 style="color: #2c3e50; margin-top: 30px; margin-bottom: 15px; font-size: 1.3em; border-bottom: 2px solid #3498db; padding-bottom: 10px;">
                <i class="fas fa-tachometer-alt"></i> Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡ (Performance Settings)
            </h3>

            <div class="form-group">
                <label for="maxCallsPerSecond">Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ø·Ù„Ø¨Ø§Øª ÙÙŠ Ø§Ù„Ø«Ø§Ù†ÙŠØ© (Max Calls/Second):</label>
                <input type="number" id="maxCallsPerSecond" placeholder="8" min="1" max="20" value="8">
                <small>Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø³Ù…ÙˆØ­ Ø¨Ù‡Ø§ ÙÙŠ Ø§Ù„Ø«Ø§Ù†ÙŠØ© - Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©: 8</small>
            </div>

            <div class="form-group">
                <label for="totalApiCalls">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© (Total API Calls):</label>
                <input type="number" id="totalApiCalls" placeholder="50000" min="1000">
                <small>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© ÙÙŠ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ</small>
            </div>

            <div class="form-group">
                <label for="apiResetDate">ØªØ§Ø±ÙŠØ® Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø·Ù„Ø¨Ø§Øª (API Reset Date):</label>
                <input type="text" id="apiResetDate" placeholder="2025-12-01 05:38 PM">
                <small>Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø°ÙŠ Ø³ÙŠØªÙ… ÙÙŠÙ‡ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</small>
            </div>

            <h3 style="color: #2c3e50; margin-top: 30px; margin-bottom: 15px; font-size: 1.3em; border-bottom: 2px solid #3498db; padding-bottom: 10px;">
                <i class="fas fa-database"></i> Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ®Ø²ÙŠÙ† (Storage Settings)
            </h3>

            <div class="form-group">
                <label for="imageRetention">Ù…Ø¯Ø© Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø§Ù„ØµÙˆØ± (Image Retention - Ø¨Ø§Ù„Ø£ÙŠØ§Ù…):</label>
                <input type="number" id="imageRetention" placeholder="30" min="1" max="365" value="30">
                <small>Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙŠØ§Ù… Ù„Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø§Ù„ØµÙˆØ± Ù‚Ø¨Ù„ Ø§Ù„Ø­Ø°Ù Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ</small>
            </div>

            <div class="form-group">
                <label for="dataRetention">Ù…Ø¯Ø© Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Data Retention - Ø¨Ø§Ù„Ø£ÙŠØ§Ù…):</label>
                <input type="number" id="dataRetention" placeholder="90" min="1" max="365" value="90">
                <small>Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙŠØ§Ù… Ù„Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ¹Ø±Ù Ù‚Ø¨Ù„ Ø§Ù„Ø£Ø±Ø´ÙØ©</small>
            </div>

            <div class="form-group">
                <label for="enableAutoCleanup">
                    <input type="checkbox" id="enableAutoCleanup" style="width: auto; margin-left: 10px;">
                    ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªÙ†Ø¸ÙŠÙ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ (Auto Cleanup)
                </label>
                <small>Ø­Ø°Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§Ø­ØªÙØ§Ø¸</small>
            </div>

            <div class="info-box" style="margin-top: 20px;">
                <h3><i class="fas fa-key"></i> Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ParkPow Cloud License</h3>
                <div class="form-group">
                    <label for="parkpowLicenseKey">Ù…ÙØªØ§Ø­ Ø§Ù„ØªØ±Ø®ÙŠØµ (License Key):</label>
                    <input type="text" id="parkpowLicenseKey" placeholder="Ù…Ø«Ø§Ù„: 6mBNSb5L6W">
                    <small>Ù…ÙØªØ§Ø­ Ø§Ù„ØªØ±Ø®ÙŠØµ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù…Ù† ParkPow</small>
                </div>
                <div class="form-group">
                    <label for="parkpowToken">Ø±Ù…Ø² ParkPow Token:</label>
                    <input type="text" id="parkpowToken" placeholder="Ø£Ø¯Ø®Ù„ ParkPow Token Ù‡Ù†Ø§">
                    <small>Ø±Ù…Ø² Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø§Ù„Ø®Ø§Øµ Ø¨Ù€ ParkPow API</small>
                </div>
                <div class="form-group">
                    <label for="parkpowCameras">Ø¹Ø¯Ø¯ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§Øª:</label>
                    <input type="number" id="parkpowCameras" placeholder="3" min="1" max="100">
                    <small>Ø¹Ø¯Ø¯ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§Øª Ø§Ù„Ù…Ø³Ù…ÙˆØ­ Ø¨Ù‡Ø§ ÙÙŠ Ø§Ù„ØªØ±Ø®ÙŠØµ</small>
                </div>
                <div class="form-group">
                    <label for="parkpowDescription">Ø§Ù„ÙˆØµÙ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):</label>
                    <input type="text" id="parkpowDescription" placeholder="ÙˆØµÙ Ø§Ù„ØªØ±Ø®ÙŠØµ">
                    <small>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ø¹Ù† Ø§Ù„ØªØ±Ø®ÙŠØµ</small>
                </div>
            </div>

            <div class="form-group">
                <label>Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„:</label>
                <span id="snapshotConnectionStatus" class="status-badge status-disconnected">
                    <i class="fas fa-circle"></i> ØºÙŠØ± Ù…ØªØµÙ„
                </span>
            </div>

            <button class="btn btn-success" onclick="testSnapshotConnection()">
                <i class="fas fa-plug"></i> Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„
            </button>
        </div>

        <div class="card">
            <h2><i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h2>
            <button class="btn btn-primary" onclick="saveSettings()">
                <i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
            </button>
            <button class="btn btn-danger" onclick="resetSettings()">
                <i class="fas fa-trash"></i> Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†
            </button>
        </div>
    </div>

    <script src="../js/auth.js"></script>
    <script>
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
        if (window.authManager) {
            window.authManager.requireAuth();
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
        window.addEventListener('DOMContentLoaded', () => {
            loadSettings();
        });

        // Ø¹Ø±Ø¶/Ø¥Ø®ÙØ§Ø¡ Ø¨Ø·Ø§Ù‚Ø© API Ø­Ø³Ø¨ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø®ØªØ§Ø±
        document.getElementById('recognitionSystem').addEventListener('change', function() {
            const apiCard = document.getElementById('apiCard');
            const snapshotCard = document.getElementById('snapshotCard');
            
            // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø£ÙˆÙ„Ø§Ù‹
            apiCard.style.display = 'none';
            snapshotCard.style.display = 'none';
            
            // Ø¹Ø±Ø¶ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©
            if (this.value === 'platerecognizer') {
                apiCard.style.display = 'block';
            } else if (this.value === 'snapshot') {
                snapshotCard.style.display = 'block';
            }
        });

        function loadSettings() {
            // ØªØ­Ù…ÙŠÙ„ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ¹Ø±Ù
            const system = localStorage.getItem('RECOGNITION_SYSTEM') || 'mock';
            document.getElementById('recognitionSystem').value = system;
            
            // Ø¹Ø±Ø¶ Ø¨Ø·Ø§Ù‚Ø© API Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©
            if (system === 'platerecognizer') {
                document.getElementById('apiCard').style.display = 'block';
            } else if (system === 'snapshot') {
                document.getElementById('snapshotCard').style.display = 'block';
            }

            // ØªØ­Ù…ÙŠÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Plate Recognizer API
            const apiToken = localStorage.getItem('PLATE_RECOGNIZER_API_TOKEN') || '';
            document.getElementById('apiToken').value = apiToken;

            const region = localStorage.getItem('PLATE_RECOGNIZER_REGION') || 'sa';
            document.getElementById('apiRegion').value = region;

            // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„
            if (apiToken) {
                document.getElementById('connectionStatus').className = 'status-badge status-connected';
                document.getElementById('connectionStatus').innerHTML = '<i class="fas fa-circle"></i> Ù…ØªØµÙ„';
            }

            // ØªØ­Ù…ÙŠÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Snapshot Cloud API
            const snapshotApiToken = localStorage.getItem('SNAPSHOT_API_TOKEN') || '';
            document.getElementById('snapshotApiToken').value = snapshotApiToken;

            const snapshotApiUrl = localStorage.getItem('SNAPSHOT_API_URL') || 'https://api.platerecognizer.com/v1/plate-reader/';
            document.getElementById('snapshotApiUrl').value = snapshotApiUrl;

            const snapshotRegion = localStorage.getItem('SNAPSHOT_REGION') || 'sa';
            document.getElementById('snapshotRegion').value = snapshotRegion;

            // Camera Settings
            document.getElementById('cameraId').value = localStorage.getItem('CAMERA_ID') || '';
            document.getElementById('cameraName').value = localStorage.getItem('CAMERA_NAME') || '';
            document.getElementById('cameraLocation').value = localStorage.getItem('CAMERA_LOCATION') || '';

            // Processing Settings
            document.getElementById('confidenceThreshold').value = localStorage.getItem('CONFIDENCE_THRESHOLD') || '0.7';
            document.getElementById('enableMMC').checked = localStorage.getItem('ENABLE_MMC') === 'true';
            document.getElementById('enableVehicleType').checked = localStorage.getItem('ENABLE_VEHICLE_TYPE') === 'true';
            document.getElementById('enableDirection').checked = localStorage.getItem('ENABLE_DIRECTION') === 'true';

            // FTP Settings
            document.getElementById('ftpHost').value = localStorage.getItem('FTP_HOST') || 'ftp.platerecognizer.com';
            document.getElementById('ftpPort').value = localStorage.getItem('FTP_PORT') || '21';
            document.getElementById('ftpUsername').value = localStorage.getItem('FTP_USERNAME') || '';
            document.getElementById('ftpPassword').value = localStorage.getItem('FTP_PASSWORD') || '';
            document.getElementById('ftpProtocol').value = localStorage.getItem('FTP_PROTOCOL') || 'ftp';

            // Webhook Settings
            const webhookUrl = localStorage.getItem('SNAPSHOT_WEBHOOK_URL') || '';
            document.getElementById('webhookUrl').value = webhookUrl;
            document.getElementById('parkpowWebhookUrl').value = localStorage.getItem('PARKPOW_WEBHOOK_URL') || 'https://app.parkpow.com/api/v1/webhook-receiver/';

            // Timezone Settings
            document.getElementById('timezone').value = localStorage.getItem('TIMEZONE') || 'Asia/Riyadh';
            document.getElementById('enableTimestamp').checked = localStorage.getItem('ENABLE_TIMESTAMP') !== 'false';

            // Performance Settings
            document.getElementById('maxCallsPerSecond').value = localStorage.getItem('MAX_CALLS_PER_SECOND') || '8';
            document.getElementById('totalApiCalls').value = localStorage.getItem('TOTAL_API_CALLS') || '50000';
            document.getElementById('apiResetDate').value = localStorage.getItem('API_RESET_DATE') || '';

            // Storage Settings
            document.getElementById('imageRetention').value = localStorage.getItem('IMAGE_RETENTION') || '30';
            document.getElementById('dataRetention').value = localStorage.getItem('DATA_RETENTION') || '90';
            document.getElementById('enableAutoCleanup').checked = localStorage.getItem('ENABLE_AUTO_CLEANUP') === 'true';

            // ØªØ­Ù…ÙŠÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ParkPow License
            const parkpowLicenseKey = localStorage.getItem('PARKPOW_LICENSE_KEY') || '';
            document.getElementById('parkpowLicenseKey').value = parkpowLicenseKey;

            const parkpowToken = localStorage.getItem('PARKPOW_TOKEN') || '';
            document.getElementById('parkpowToken').value = parkpowToken;

            const parkpowCameras = localStorage.getItem('PARKPOW_CAMERAS') || '';
            document.getElementById('parkpowCameras').value = parkpowCameras;

            const parkpowDescription = localStorage.getItem('PARKPOW_DESCRIPTION') || '';
            document.getElementById('parkpowDescription').value = parkpowDescription;

            // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„ Ù„Ù„Ù€ Snapshot
            if (snapshotApiToken) {
                document.getElementById('snapshotConnectionStatus').className = 'status-badge status-connected';
                document.getElementById('snapshotConnectionStatus').innerHTML = '<i class="fas fa-circle"></i> Ù…ØªØµÙ„';
            }
        }

        function saveSettings() {
            const system = document.getElementById('recognitionSystem').value;
            const apiToken = document.getElementById('apiToken').value;
            const region = document.getElementById('apiRegion').value;

            // Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©
            localStorage.setItem('RECOGNITION_SYSTEM', system);
            localStorage.setItem('PLATE_RECOGNIZER_API_TOKEN', apiToken);
            localStorage.setItem('PLATE_RECOGNIZER_REGION', region);

            // Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Snapshot Cloud API
            const snapshotApiToken = document.getElementById('snapshotApiToken').value;
            const snapshotApiUrl = document.getElementById('snapshotApiUrl').value;
            const snapshotRegion = document.getElementById('snapshotRegion').value;

            localStorage.setItem('SNAPSHOT_API_TOKEN', snapshotApiToken);
            localStorage.setItem('SNAPSHOT_API_URL', snapshotApiUrl);
            localStorage.setItem('SNAPSHOT_REGION', snapshotRegion);

            // Camera Settings
            localStorage.setItem('CAMERA_ID', document.getElementById('cameraId').value);
            localStorage.setItem('CAMERA_NAME', document.getElementById('cameraName').value);
            localStorage.setItem('CAMERA_LOCATION', document.getElementById('cameraLocation').value);

            // Processing Settings
            localStorage.setItem('CONFIDENCE_THRESHOLD', document.getElementById('confidenceThreshold').value);
            localStorage.setItem('ENABLE_MMC', document.getElementById('enableMMC').checked);
            localStorage.setItem('ENABLE_VEHICLE_TYPE', document.getElementById('enableVehicleType').checked);
            localStorage.setItem('ENABLE_DIRECTION', document.getElementById('enableDirection').checked);

            // FTP Settings
            localStorage.setItem('FTP_HOST', document.getElementById('ftpHost').value);
            localStorage.setItem('FTP_PORT', document.getElementById('ftpPort').value);
            localStorage.setItem('FTP_USERNAME', document.getElementById('ftpUsername').value);
            localStorage.setItem('FTP_PASSWORD', document.getElementById('ftpPassword').value);
            localStorage.setItem('FTP_PROTOCOL', document.getElementById('ftpProtocol').value);

            // Webhook Settings
            const webhookUrl = document.getElementById('webhookUrl').value;
            localStorage.setItem('SNAPSHOT_WEBHOOK_URL', webhookUrl);
            localStorage.setItem('PARKPOW_WEBHOOK_URL', document.getElementById('parkpowWebhookUrl').value);

            // Timezone Settings
            localStorage.setItem('TIMEZONE', document.getElementById('timezone').value);
            localStorage.setItem('ENABLE_TIMESTAMP', document.getElementById('enableTimestamp').checked);

            // Performance Settings
            localStorage.setItem('MAX_CALLS_PER_SECOND', document.getElementById('maxCallsPerSecond').value);
            localStorage.setItem('TOTAL_API_CALLS', document.getElementById('totalApiCalls').value);
            localStorage.setItem('API_RESET_DATE', document.getElementById('apiResetDate').value);

            // Storage Settings
            localStorage.setItem('IMAGE_RETENTION', document.getElementById('imageRetention').value);
            localStorage.setItem('DATA_RETENTION', document.getElementById('dataRetention').value);
            localStorage.setItem('ENABLE_AUTO_CLEANUP', document.getElementById('enableAutoCleanup').checked);

            // Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ParkPow License
            const parkpowLicenseKey = document.getElementById('parkpowLicenseKey').value;
            const parkpowToken = document.getElementById('parkpowToken').value;
            const parkpowCameras = document.getElementById('parkpowCameras').value;
            const parkpowDescription = document.getElementById('parkpowDescription').value;

            localStorage.setItem('PARKPOW_LICENSE_KEY', parkpowLicenseKey);
            localStorage.setItem('PARKPOW_TOKEN', parkpowToken);
            localStorage.setItem('PARKPOW_CAMERAS', parkpowCameras);
            localStorage.setItem('PARKPOW_DESCRIPTION', parkpowDescription);

            showAlert('success', 'ØªÙ… Ø­ÙØ¸ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¨Ù†Ø¬Ø§Ø­! âœ…');

            // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„
            if (apiToken && system === 'platerecognizer') {
                document.getElementById('connectionStatus').className = 'status-badge status-connected';
                document.getElementById('connectionStatus').innerHTML = '<i class="fas fa-circle"></i> Ù…ØªØµÙ„';
            }
            if (snapshotApiToken && system === 'snapshot') {
                document.getElementById('snapshotConnectionStatus').className = 'status-badge status-connected';
                document.getElementById('snapshotConnectionStatus').innerHTML = '<i class="fas fa-circle"></i> Ù…ØªØµÙ„';
            }
        }

        async function testConnection() {
            const apiToken = document.getElementById('apiToken').value;
            
            if (!apiToken) {
                showAlert('error', 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù…Ø² API Ø£ÙˆÙ„Ø§Ù‹! âš ï¸');
                return;
            }

            showAlert('info', 'Ø¬Ø§Ø±ÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„... â³');

            try {
                // Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ API
                const response = await fetch('https://api.platerecognizer.com/v1/statistics/', {
                    method: 'GET',
                    headers: {
                        'Authorization': 'Token ' + apiToken
                    }
                });

                if (response.ok) {
                    const data = await response.json();
                    showAlert('success', `âœ… Ø§Ù„Ø§ØªØµØ§Ù„ Ù†Ø§Ø¬Ø­! Ù„Ø¯ÙŠÙƒ ${data.usage.calls} Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ù…ØªØ¨Ù‚ÙŠ Ù…Ù† ${data.usage.max_calls}`);
                    document.getElementById('connectionStatus').className = 'status-badge status-connected';
                    document.getElementById('connectionStatus').innerHTML = '<i class="fas fa-circle"></i> Ù…ØªØµÙ„';
                } else {
                    showAlert('error', 'âŒ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„! ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø±Ù…Ø² API');
                    document.getElementById('connectionStatus').className = 'status-badge status-disconnected';
                    document.getElementById('connectionStatus').innerHTML = '<i class="fas fa-circle"></i> ØºÙŠØ± Ù…ØªØµÙ„';
                }
            } catch (error) {
                showAlert('error', 'âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„: ' + error.message);
                document.getElementById('connectionStatus').className = 'status-badge status-disconnected';
                document.getElementById('connectionStatus').innerHTML = '<i class="fas fa-circle"></i> ØºÙŠØ± Ù…ØªØµÙ„';
            }
        }

        async function testSnapshotConnection() {
            const snapshotApiToken = document.getElementById('snapshotApiToken').value;
            
            if (!snapshotApiToken) {
                showAlert('error', 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù…Ø² API Ø£ÙˆÙ„Ø§Ù‹! âš ï¸');
                return;
            }

            showAlert('info', 'Ø¬Ø§Ø±ÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ Snapshot Cloud... â³');

            try {
                // Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ Snapshot Cloud API - Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ù‚Ø·Ø© Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ù„Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
                const response = await fetch('https://api.platerecognizer.com/v1/statistics/', {
                    method: 'GET',
                    headers: {
                        'Authorization': 'Token ' + snapshotApiToken
                    }
                });

                if (response.ok) {
                    const data = await response.json();
                    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©
                    const calls = data?.usage?.calls ?? 'ØºÙŠØ± Ù…ØªØ§Ø­';
                    const maxCalls = data?.usage?.max_calls ?? 'ØºÙŠØ± Ù…ØªØ§Ø­';
                    showAlert('success', `âœ… Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ Snapshot Cloud Ù†Ø§Ø¬Ø­! Ù„Ø¯ÙŠÙƒ ${calls} Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ù…ØªØ¨Ù‚ÙŠ Ù…Ù† ${maxCalls}`);
                    document.getElementById('snapshotConnectionStatus').className = 'status-badge status-connected';
                    document.getElementById('snapshotConnectionStatus').innerHTML = '<i class="fas fa-circle"></i> Ù…ØªØµÙ„';
                } else {
                    showAlert('error', 'âŒ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„! ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø±Ù…Ø² API');
                    document.getElementById('snapshotConnectionStatus').className = 'status-badge status-disconnected';
                    document.getElementById('snapshotConnectionStatus').innerHTML = '<i class="fas fa-circle"></i> ØºÙŠØ± Ù…ØªØµÙ„';
                }
            } catch (error) {
                showAlert('error', 'âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„: ' + error.message);
                document.getElementById('snapshotConnectionStatus').className = 'status-badge status-disconnected';
                document.getElementById('snapshotConnectionStatus').innerHTML = '<i class="fas fa-circle"></i> ØºÙŠØ± Ù…ØªØµÙ„';
            }
        }

        function resetSettings() {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§ØªØŸ')) {
                // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ©
                localStorage.removeItem('RECOGNITION_SYSTEM');
                localStorage.removeItem('PLATE_RECOGNIZER_API_TOKEN');
                localStorage.removeItem('PLATE_RECOGNIZER_REGION');
                localStorage.removeItem('SNAPSHOT_API_TOKEN');
                localStorage.removeItem('SNAPSHOT_API_URL');
                localStorage.removeItem('SNAPSHOT_REGION');
                
                // Camera Settings
                localStorage.removeItem('CAMERA_ID');
                localStorage.removeItem('CAMERA_NAME');
                localStorage.removeItem('CAMERA_LOCATION');
                
                // Processing Settings
                localStorage.removeItem('CONFIDENCE_THRESHOLD');
                localStorage.removeItem('ENABLE_MMC');
                localStorage.removeItem('ENABLE_VEHICLE_TYPE');
                localStorage.removeItem('ENABLE_DIRECTION');
                
                // FTP Settings
                localStorage.removeItem('FTP_HOST');
                localStorage.removeItem('FTP_PORT');
                localStorage.removeItem('FTP_USERNAME');
                localStorage.removeItem('FTP_PASSWORD');
                localStorage.removeItem('FTP_PROTOCOL');
                
                // Webhook Settings
                localStorage.removeItem('SNAPSHOT_WEBHOOK_URL');
                localStorage.removeItem('PARKPOW_WEBHOOK_URL');
                
                // Timezone Settings
                localStorage.removeItem('TIMEZONE');
                localStorage.removeItem('ENABLE_TIMESTAMP');
                
                // Performance Settings
                localStorage.removeItem('MAX_CALLS_PER_SECOND');
                localStorage.removeItem('TOTAL_API_CALLS');
                localStorage.removeItem('API_RESET_DATE');
                
                // Storage Settings
                localStorage.removeItem('IMAGE_RETENTION');
                localStorage.removeItem('DATA_RETENTION');
                localStorage.removeItem('ENABLE_AUTO_CLEANUP');
                
                // ParkPow Settings
                localStorage.removeItem('PARKPOW_LICENSE_KEY');
                localStorage.removeItem('PARKPOW_TOKEN');
                localStorage.removeItem('PARKPOW_CAMERAS');
                localStorage.removeItem('PARKPOW_DESCRIPTION');
                
                // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù‚ÙŠÙ… ÙÙŠ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
                document.getElementById('recognitionSystem').value = 'mock';
                document.getElementById('apiToken').value = '';
                document.getElementById('apiRegion').value = 'sa';
                document.getElementById('apiCard').style.display = 'none';
                
                document.getElementById('snapshotApiToken').value = '';
                document.getElementById('snapshotApiUrl').value = 'https://api.platerecognizer.com/v1/plate-reader/';
                document.getElementById('snapshotRegion').value = 'sa';
                
                // Camera Settings
                document.getElementById('cameraId').value = '';
                document.getElementById('cameraName').value = '';
                document.getElementById('cameraLocation').value = '';
                
                // Processing Settings
                document.getElementById('confidenceThreshold').value = '0.7';
                document.getElementById('enableMMC').checked = false;
                document.getElementById('enableVehicleType').checked = false;
                document.getElementById('enableDirection').checked = false;
                
                // FTP Settings
                document.getElementById('ftpHost').value = 'ftp.platerecognizer.com';
                document.getElementById('ftpPort').value = '21';
                document.getElementById('ftpUsername').value = '';
                document.getElementById('ftpPassword').value = '';
                document.getElementById('ftpProtocol').value = 'ftp';
                
                // Webhook Settings
                document.getElementById('webhookUrl').value = '';
                document.getElementById('parkpowWebhookUrl').value = 'https://app.parkpow.com/api/v1/webhook-receiver/';
                
                // Timezone Settings
                document.getElementById('timezone').value = 'Asia/Riyadh';
                document.getElementById('enableTimestamp').checked = true;
                
                // Performance Settings
                document.getElementById('maxCallsPerSecond').value = '8';
                document.getElementById('totalApiCalls').value = '50000';
                document.getElementById('apiResetDate').value = '';
                
                // Storage Settings
                document.getElementById('imageRetention').value = '30';
                document.getElementById('dataRetention').value = '90';
                document.getElementById('enableAutoCleanup').checked = false;
                
                // ParkPow Settings
                document.getElementById('parkpowLicenseKey').value = '';
                document.getElementById('parkpowToken').value = '';
                document.getElementById('parkpowCameras').value = '';
                document.getElementById('parkpowDescription').value = '';
                document.getElementById('snapshotCard').style.display = 'none';
                
                document.getElementById('connectionStatus').className = 'status-badge status-disconnected';
                document.getElementById('connectionStatus').innerHTML = '<i class="fas fa-circle"></i> ØºÙŠØ± Ù…ØªØµÙ„';
                
                document.getElementById('snapshotConnectionStatus').className = 'status-badge status-disconnected';
                document.getElementById('snapshotConnectionStatus').innerHTML = '<i class="fas fa-circle"></i> ØºÙŠØ± Ù…ØªØµÙ„';
                
                showAlert('success', 'ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¨Ù†Ø¬Ø§Ø­! âœ…');
            }
        }

        function showAlert(type, message) {
            const alertBox = document.getElementById('alertBox');
            alertBox.className = 'alert alert-' + type;
            alertBox.textContent = message;
            alertBox.style.display = 'block';

            setTimeout(() => {
                alertBox.style.display = 'none';
            }, 5000);
        }
    </script>
</body>
</html>
