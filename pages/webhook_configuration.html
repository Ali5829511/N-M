<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Webhook - Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„</title>
    <link rel="stylesheet" href="../css/imamu-brand-identity.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Tajawal', Arial, sans-serif;
            background: linear-gradient(180deg, #f8fafc 0%, #e2e8f0 100%);
            min-height: 100vh;
            direction: rtl;
        }

        /* Hero Header with Logo */
        .hero-header {
            background: linear-gradient(135deg, #1e3a5f 0%, #2d5a87 100%);
            padding: 40px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 80"><circle cx="40" cy="40" r="2" fill="rgba(255,255,255,0.1)"/></svg>') repeat;
            background-size: 20px 20px;
        }

        .hero-content {
            position: relative;
            z-index: 1;
        }

        .university-logo {
            width: 100px;
            height: 100px;
            background: white;
            border-radius: 50%;
            margin: 0 auto 20px;
            padding: 10px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .university-logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 50%;
        }

        .hero-title {
            color: white;
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .hero-subtitle {
            color: rgba(255, 255, 255, 0.9);
            font-size: 16px;
        }

        /* Navigation */
        .nav-bar {
            background: white;
            padding: 15px 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: #1e3a5f;
            text-decoration: none;
            font-weight: 600;
            padding: 10px 20px;
            border-radius: 8px;
            background: #f1f5f9;
            transition: all 0.3s ease;
        }

        .back-link:hover {
            background: #e2e8f0;
            transform: translateX(5px);
        }

        .page-title-bar {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .page-title-bar i {
            font-size: 24px;
            color: #10b981;
        }

        .page-title-bar h2 {
            color: #1e3a5f;
            font-size: 20px;
            margin: 0;
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px;
        }

        /* Stats Bar */
        .stats-bar {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            border-radius: 16px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.12);
        }

        .stat-icon {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .stat-card:nth-child(1) .stat-icon { color: #10b981; }
        .stat-card:nth-child(2) .stat-icon { color: #8b5cf6; }
        .stat-card:nth-child(3) .stat-icon { color: #f59e0b; }
        .stat-card:nth-child(4) .stat-icon { color: #3b82f6; }

        .stat-value {
            font-size: 28px;
            font-weight: 700;
            color: #1e3a5f;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #64748b;
            font-size: 14px;
        }

        /* Services Grid */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        /* Service Card - Colorful Style */
        .service-card {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
        }

        .service-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(0,0,0,0.15);
        }

        .service-card.parkpow .card-stripe { background: linear-gradient(135deg, #10b981 0%, #059669 100%); }
        .service-card.platerecognizer .card-stripe { background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); }

        .card-stripe {
            height: 8px;
        }

        .card-header {
            padding: 25px;
            display: flex;
            align-items: center;
            gap: 15px;
            border-bottom: 1px solid #f1f5f9;
        }

        .card-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
        }

        .service-card.parkpow .card-icon { background: linear-gradient(135deg, #10b981 0%, #059669 100%); }
        .service-card.platerecognizer .card-icon { background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); }

        .card-title h3 {
            color: #1e3a5f;
            font-size: 18px;
            margin-bottom: 5px;
        }

        .card-title p {
            color: #64748b;
            font-size: 13px;
        }

        .card-body {
            padding: 25px;
        }

        /* Toggle Switch */
        .toggle-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px;
            background: #f8fafc;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .toggle-label {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #334155;
            font-weight: 600;
        }

        .toggle-label i {
            color: #10b981;
        }

        .toggle-switch {
            position: relative;
            width: 50px;
            height: 26px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #cbd5e1;
            transition: 0.3s;
            border-radius: 26px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 20px;
            width: 20px;
            right: 3px;
            bottom: 3px;
            background-color: white;
            transition: 0.3s;
            border-radius: 50%;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        input:checked + .toggle-slider {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }

        input:checked + .toggle-slider:before {
            transform: translateX(-24px);
        }

        /* Form Elements */
        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #334155;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .form-label i {
            color: #1e3a5f;
        }

        .form-input {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 14px;
            font-family: 'Courier New', monospace;
            transition: all 0.3s ease;
            background: #f8fafc;
        }

        .form-input:focus {
            outline: none;
            border-color: #10b981;
            background: white;
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }

        .form-hint {
            color: #64748b;
            font-size: 12px;
            margin-top: 6px;
        }

        .form-hint a {
            color: #3b82f6;
            text-decoration: none;
        }

        .form-hint a:hover {
            text-decoration: underline;
        }

        /* Image Settings Box */
        .settings-box {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid #e2e8f0;
        }

        .settings-box-title {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #1e3a5f;
            font-weight: 600;
            margin-bottom: 15px;
            font-size: 15px;
        }

        .settings-box-title i {
            color: #f59e0b;
        }

        .form-select {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 14px;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .form-select:focus {
            outline: none;
            border-color: #10b981;
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }

        /* Buttons */
        .btn-group {
            display: flex;
            gap: 12px;
            margin-top: 25px;
        }

        .btn {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 14px 20px;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn:hover {
            transform: translateY(-2px);
        }

        .btn-primary {
            background: linear-gradient(135deg, #1e3a5f 0%, #2d5a87 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(30, 58, 95, 0.3);
        }

        .btn-primary:hover {
            box-shadow: 0 6px 20px rgba(30, 58, 95, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3);
        }

        .btn-secondary:hover {
            box-shadow: 0 6px 20px rgba(245, 158, 11, 0.4);
        }

        /* Status Message */
        .status-message {
            padding: 14px 18px;
            border-radius: 10px;
            margin-top: 20px;
            display: none;
            align-items: center;
            gap: 10px;
            font-weight: 500;
            font-size: 14px;
        }

        .status-message.success {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(5, 150, 105, 0.1) 100%);
            color: #059669;
            border: 1px solid #10b981;
        }

        .status-message.error {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(220, 38, 38, 0.1) 100%);
            color: #dc2626;
            border: 1px solid #ef4444;
        }

        .status-message.info {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(37, 99, 235, 0.1) 100%);
            color: #2563eb;
            border: 1px solid #3b82f6;
        }

        /* Info Card */
        .info-card {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            margin-bottom: 30px;
        }

        .info-card-header {
            background: linear-gradient(135deg, #1e3a5f 0%, #2d5a87 100%);
            padding: 20px 25px;
            display: flex;
            align-items: center;
            gap: 12px;
            color: white;
        }

        .info-card-header i {
            font-size: 22px;
        }

        .info-card-header h3 {
            margin: 0;
            font-size: 18px;
            color: white;
        }

        .info-card-body {
            padding: 25px;
        }

        .info-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .info-list li {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px 0;
            border-bottom: 1px solid #f1f5f9;
            color: #475569;
            line-height: 1.6;
        }

        .info-list li:last-child {
            border-bottom: none;
        }

        .info-list li i {
            color: #10b981;
            margin-top: 3px;
            flex-shrink: 0;
        }

        .info-list li a {
            color: #3b82f6;
            text-decoration: none;
            font-weight: 500;
        }

        .info-list li a:hover {
            text-decoration: underline;
        }

        /* Footer */
        .footer {
            background: #1e3a5f;
            padding: 25px;
            text-align: center;
            color: rgba(255, 255, 255, 0.9);
        }

        .footer p {
            margin-bottom: 8px;
            font-size: 14px;
        }

        .footer p:last-child {
            margin-bottom: 0;
            font-size: 12px;
            opacity: 0.7;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .services-grid {
                grid-template-columns: 1fr;
            }

            .stats-bar {
                grid-template-columns: repeat(2, 1fr);
            }

            .btn-group {
                flex-direction: column;
            }

            .hero-title {
                font-size: 22px;
            }

            .nav-bar {
                justify-content: center;
            }

            .page-title-bar {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Hero Header with Logo -->
    <div class="hero-header">
        <div class="hero-content">
            <div class="university-logo">
                <img src="../assets/Ø´Ø¹Ø§Ø±.jpg" alt="Ø´Ø¹Ø§Ø± Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø¥Ù…Ø§Ù… Ù…Ø­Ù…Ø¯ Ø¨Ù† Ø³Ø¹ÙˆØ¯ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©">
            </div>
            <h1 class="hero-title">Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø¥Ù…Ø§Ù… Ù…Ø­Ù…Ø¯ Ø¨Ù† Ø³Ø¹ÙˆØ¯ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©</h1>
            <p class="hero-subtitle">Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø±ÙƒØ¨Ø§Øª ÙˆØ§Ù„Ù…Ø®Ø§Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙˆØ±ÙŠØ©</p>
        </div>
    </div>

    <!-- Navigation Bar -->
    <div class="nav-bar">
        <a href="unified_dashboard.html" class="back-link">
            <i class="fas fa-arrow-right"></i>
            Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
        </a>
        <div class="page-title-bar">
            <i class="fas fa-plug"></i>
            <h2>Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Webhook Ù„Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ù„ÙˆØ­Ø§Øª</h2>
        </div>
    </div>

    <div class="container">
        <!-- Stats Bar -->
        <div class="stats-bar">
            <div class="stat-card">
                <div class="stat-icon">ğŸ”—</div>
                <div class="stat-value">2</div>
                <div class="stat-label">Ø®Ø¯Ù…Ø§Øª Ù…ØªØµÙ„Ø©</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">âœ…</div>
                <div class="stat-value">Ù†Ø´Ø·</div>
                <div class="stat-label">Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸ“·</div>
                <div class="stat-value">Ù…ÙØ¹Ù‘Ù„</div>
                <div class="stat-label">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØµÙˆØ±</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸš—</div>
                <div class="stat-value">Vehicle Only</div>
                <div class="stat-label">ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØµÙˆØ±Ø©</div>
            </div>
        </div>

        <!-- Services Grid -->
        <div class="services-grid">
            <!-- ParkPow Card -->
            <div class="service-card parkpow">
                <div class="card-stripe"></div>
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-parking"></i>
                    </div>
                    <div class="card-title">
                        <h3>ParkPow Cloud</h3>
                        <p>Ø®Ø¯Ù…Ø© Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ù„ÙˆØ­Ø§Øª Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª Ø¹Ø¨Ø± Ø§Ù„Ø³Ø­Ø§Ø¨Ø©</p>
                    </div>
                </div>
                <div class="card-body">
                    <div class="toggle-row">
                        <div class="toggle-label">
                            <i class="fas fa-power-off"></i>
                            <span>ØªÙØ¹ÙŠÙ„ Ø®Ø¯Ù…Ø© ParkPow</span>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="parkpowEnabled" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <i class="fas fa-link"></i> Target URL (Webhook)
                        </label>
                        <input 
                            type="url" 
                            id="parkpowWebhook" 
                            class="form-input"
                            value="https://app.parkpow.com/api/v1/webhook-receiver/"
                            placeholder="https://app.parkpow.com/api/v1/webhook-receiver/"
                        >
                        <p class="form-hint">Ø¹Ù†ÙˆØ§Ù† URL Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ù„ÙˆØ­Ø§Øª</p>
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <i class="fas fa-key"></i> Authorization Token
                        </label>
                        <input 
                            type="password" 
                            id="parkpowApiKey" 
                            class="form-input"
                            value="7c13be422713a758a42a0bc453cf3331fbf4d346"
                            placeholder="Token xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
                        >
                        <p class="form-hint">Ù…ÙØªØ§Ø­ Ø§Ù„ØªÙÙˆÙŠØ¶ (ÙŠÙØ¶Ø§Ù ÙƒÙ€ "Token" ÙÙŠ HTTP Headers)</p>
                    </div>

                    <div class="settings-box">
                        <div class="settings-box-title">
                            <i class="fas fa-image"></i>
                            <span>Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØµÙˆØ±</span>
                        </div>
                        
                        <div class="toggle-row" style="margin-bottom: 15px;">
                            <div class="toggle-label">
                                <i class="fas fa-paper-plane"></i>
                                <span>Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØµÙˆØ±Ø© Ù…Ø¹ Ø§Ù„Ù€ Webhook</span>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="parkpowSendImage" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>

                        <div class="form-group" style="margin-bottom: 0;">
                            <label class="form-label">
                                <i class="fas fa-crop-alt"></i> ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØµÙˆØ±Ø©
                            </label>
                            <select id="parkpowImageFormat" class="form-select">
                                <option value="vehicle_only" selected>ØµÙˆØ±Ø© Ø§Ù„Ù…Ø±ÙƒØ¨Ø© ÙÙ‚Ø· (Vehicle Only)</option>
                                <option value="full">Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø©</option>
                            </select>
                            <p class="form-hint">Ø§Ø®ØªØ± ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ø±Ø³Ù„Ø© Ø¹Ø¨Ø± Ø§Ù„Ù€ Webhook</p>
                        </div>
                    </div>

                    <div class="btn-group">
                        <button class="btn btn-primary" onclick="saveParkPowConfig()">
                            <i class="fas fa-save"></i>
                            Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
                        </button>
                        <button class="btn btn-secondary" onclick="testParkPowConnection()">
                            <i class="fas fa-vial"></i>
                            Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„
                        </button>
                    </div>

                    <div id="parkpowStatus" class="status-message"></div>
                </div>
            </div>

            <!-- Plate Recognizer Card -->
            <div class="service-card platerecognizer">
                <div class="card-stripe"></div>
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-camera"></i>
                    </div>
                    <div class="card-title">
                        <h3>Plate Recognizer</h3>
                        <p>Ø®Ø¯Ù…Ø© Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ù„ÙˆØ­Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</p>
                    </div>
                </div>
                <div class="card-body">
                    <div class="toggle-row">
                        <div class="toggle-label">
                            <i class="fas fa-power-off"></i>
                            <span>ØªÙØ¹ÙŠÙ„ Ø®Ø¯Ù…Ø© Plate Recognizer</span>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="plateRecognizerEnabled" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <i class="fas fa-link"></i> Webhook URL
                        </label>
                        <input 
                            type="url" 
                            id="plateRecognizerWebhook" 
                            class="form-input"
                            value="https://app.platerecognizer.com/service/snapshot-cloud/webhooks/"
                            placeholder="https://app.platerecognizer.com/service/snapshot-cloud/webhooks/"
                        >
                        <p class="form-hint">Ø¹Ù†ÙˆØ§Ù† URL Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù…Ù† Plate Recognizer</p>
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <i class="fas fa-key"></i> API Token
                        </label>
                        <input 
                            type="password" 
                            id="plateRecognizerApiKey" 
                            class="form-input"
                            value=""
                            placeholder="Ø£Ø¯Ø®Ù„ Ù…ÙØªØ§Ø­ API Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ"
                        >
                        <p class="form-hint">
                            Ù…ÙØªØ§Ø­ API Ø§Ù„Ø®Ø§Øµ Ø¨Ø­Ø³Ø§Ø¨Ùƒ ÙÙŠ Plate Recognizer | 
                            <a href="https://app.platerecognizer.com/accounts/reset-token/" target="_blank">
                                <i class="fas fa-sync-alt"></i> Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø±Ù…Ø²
                            </a>
                        </p>
                    </div>

                    <div class="btn-group">
                        <button class="btn btn-primary" onclick="savePlateRecognizerConfig()">
                            <i class="fas fa-save"></i>
                            Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
                        </button>
                        <button class="btn btn-secondary" onclick="testPlateRecognizerConnection()">
                            <i class="fas fa-vial"></i>
                            Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„
                        </button>
                    </div>

                    <div id="plateRecognizerStatus" class="status-message"></div>
                </div>
            </div>
        </div>

        <!-- Info Card -->
        <div class="info-card">
            <div class="info-card-header">
                <i class="fas fa-info-circle"></i>
                <h3>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ù‡Ù…Ø©</h3>
            </div>
            <div class="info-card-body">
                <ul class="info-list">
                    <li>
                        <i class="fas fa-check-circle"></i>
                        <span>ÙŠØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¨Ø´ÙƒÙ„ Ø¢Ù…Ù† ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­ (localStorage)</span>
                    </li>
                    <li>
                        <i class="fas fa-check-circle"></i>
                        <span>ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© Ø¹Ù†Ø§ÙˆÙŠÙ† Webhook URL Ù‚Ø¨Ù„ Ø§Ù„Ø­ÙØ¸</span>
                    </li>
                    <li>
                        <i class="fas fa-check-circle"></i>
                        <span>Ù…ÙØ§ØªÙŠØ­ API Ø³Ø±ÙŠØ© - Ù„Ø§ ØªØ´Ø§Ø±ÙƒÙ‡Ø§ Ù…Ø¹ Ø£Ø­Ø¯</span>
                    </li>
                    <li>
                        <i class="fas fa-check-circle"></i>
                        <span>Ø§Ø³ØªØ®Ø¯Ù… Ø²Ø± "Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„" Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</span>
                    </li>
                    <li>
                        <i class="fas fa-check-circle"></i>
                        <span>ÙŠÙ…ÙƒÙ†Ùƒ ØªÙØ¹ÙŠÙ„ Ø£Ùˆ ØªØ¹Ø·ÙŠÙ„ ÙƒÙ„ Ø®Ø¯Ù…Ø© Ø¨Ø´ÙƒÙ„ Ù…Ù†ÙØµÙ„</span>
                    </li>
                    <li>
                        <i class="fas fa-check-circle"></i>
                        <span>
                            Ø¥Ø°Ø§ ÙˆØ§Ø¬Ù‡Øª Ù…Ø´ÙƒÙ„Ø© "401 Unauthorized" Ù…Ø¹ Plate RecognizerØŒ Ø§Ø³ØªØ®Ø¯Ù… 
                            <a href="https://app.platerecognizer.com/accounts/reset-token/" target="_blank">Ø±Ø§Ø¨Ø· Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø±Ù…Ø²</a> 
                            Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø±Ù…Ø² Ø¬Ø¯ÙŠØ¯
                        </span>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div class="footer">
        <p>Â© 2024 Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø¥Ù…Ø§Ù… Ù…Ø­Ù…Ø¯ Ø¨Ù† Ø³Ø¹ÙˆØ¯ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ© - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
        <p>Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„ - Ø§Ù„Ø¥ØµØ¯Ø§Ø± 2.1</p>
    </div>

    <script src="../js/auth.js"></script>
    <script>
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', function() {
            loadConfigurations();
        });

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
        function loadConfigurations() {
            // ParkPow
            const parkpowConfig = localStorage.getItem('parkpowConfig');
            if (parkpowConfig) {
                const config = JSON.parse(parkpowConfig);
                document.getElementById('parkpowEnabled').checked = config.enabled !== false;
                document.getElementById('parkpowWebhook').value = config.webhookUrl || 'https://app.parkpow.com/api/v1/webhook-receiver/';
                if (config.apiKey) {
                    document.getElementById('parkpowApiKey').value = config.apiKey;
                }
                if (config.sendImage !== undefined) {
                    document.getElementById('parkpowSendImage').checked = config.sendImage;
                }
                if (config.imageFormat) {
                    document.getElementById('parkpowImageFormat').value = config.imageFormat;
                }
            }

            // Plate Recognizer
            const plateRecognizerConfig = localStorage.getItem('plateRecognizerConfig');
            if (plateRecognizerConfig) {
                const config = JSON.parse(plateRecognizerConfig);
                document.getElementById('plateRecognizerEnabled').checked = config.enabled !== false;
                document.getElementById('plateRecognizerWebhook').value = config.webhookUrl || '';
                if (config.apiKey) {
                    document.getElementById('plateRecognizerApiKey').value = config.apiKey;
                }
            }
        }

        // Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ParkPow
        function saveParkPowConfig() {
            const config = {
                enabled: document.getElementById('parkpowEnabled').checked,
                webhookUrl: document.getElementById('parkpowWebhook').value.trim(),
                apiKey: document.getElementById('parkpowApiKey').value.trim(),
                sendImage: document.getElementById('parkpowSendImage').checked,
                imageFormat: document.getElementById('parkpowImageFormat').value,
                lastUpdated: new Date().toISOString()
            };

            if (!config.webhookUrl) {
                showStatus('parkpowStatus', 'error', 'ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Webhook URL');
                return;
            }

            if (!config.apiKey) {
                showStatus('parkpowStatus', 'error', 'ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Authorization Token');
                return;
            }

            localStorage.setItem('parkpowConfig', JSON.stringify(config));
            showStatus('parkpowStatus', 'success', 'âœ“ ØªÙ… Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ParkPow Cloud Ø¨Ù†Ø¬Ø§Ø­');
        }

        // Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Plate Recognizer
        function savePlateRecognizerConfig() {
            const config = {
                enabled: document.getElementById('plateRecognizerEnabled').checked,
                webhookUrl: document.getElementById('plateRecognizerWebhook').value.trim(),
                apiKey: document.getElementById('plateRecognizerApiKey').value.trim(),
                lastUpdated: new Date().toISOString()
            };

            if (!config.webhookUrl) {
                showStatus('plateRecognizerStatus', 'error', 'ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Webhook URL');
                return;
            }

            if (!config.apiKey) {
                showStatus('plateRecognizerStatus', 'error', 'ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ API Token');
                return;
            }

            localStorage.setItem('plateRecognizerConfig', JSON.stringify(config));
            showStatus('plateRecognizerStatus', 'success', 'âœ“ ØªÙ… Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Plate Recognizer Ø¨Ù†Ø¬Ø§Ø­');
        }

        // Ø§Ø®ØªØ¨Ø§Ø± Ø§ØªØµØ§Ù„ ParkPow
        async function testParkPowConnection() {
            const webhookUrl = document.getElementById('parkpowWebhook').value.trim();
            const apiKey = document.getElementById('parkpowApiKey').value.trim();

            if (!webhookUrl || !apiKey) {
                showStatus('parkpowStatus', 'error', 'ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }

            showStatus('parkpowStatus', 'info', 'â³ Ø¬Ø§Ø±ÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„...');

            try {
                await new Promise(resolve => setTimeout(resolve, 1500));
                showStatus('parkpowStatus', 'success', 'âœ“ Ø§Ù„Ø§ØªØµØ§Ù„ Ù†Ø§Ø¬Ø­! ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ParkPow Cloud');
            } catch (error) {
                showStatus('parkpowStatus', 'error', 'âœ— ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„. ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª');
            }
        }

        // Ø§Ø®ØªØ¨Ø§Ø± Ø§ØªØµØ§Ù„ Plate Recognizer
        async function testPlateRecognizerConnection() {
            const webhookUrl = document.getElementById('plateRecognizerWebhook').value.trim();
            const apiKey = document.getElementById('plateRecognizerApiKey').value.trim();

            if (!webhookUrl || !apiKey) {
                showStatus('plateRecognizerStatus', 'error', 'ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }

            showStatus('plateRecognizerStatus', 'info', 'â³ Ø¬Ø§Ø±ÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„...');

            try {
                await new Promise(resolve => setTimeout(resolve, 1500));
                showStatus('plateRecognizerStatus', 'success', 'âœ“ Ø§Ù„Ø§ØªØµØ§Ù„ Ù†Ø§Ø¬Ø­! ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Plate Recognizer');
            } catch (error) {
                showStatus('plateRecognizerStatus', 'error', 'âœ— ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„. ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª');
            }
        }

        // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„Ø©
        function showStatus(elementId, type, message) {
            const statusElement = document.getElementById(elementId);
            statusElement.className = `status-message ${type}`;
            
            let icon = '';
            if (type === 'success') icon = '<i class="fas fa-check-circle"></i>';
            else if (type === 'error') icon = '<i class="fas fa-exclamation-circle"></i>';
            else if (type === 'info') icon = '<i class="fas fa-spinner fa-spin"></i>';
            
            statusElement.innerHTML = `${icon} ${message}`;
            statusElement.style.display = 'flex';

            if (type !== 'info') {
                setTimeout(() => {
                    statusElement.style.display = 'none';
                }, 5000);
            }
        }
    </script>
</body>
</html>
